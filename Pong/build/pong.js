!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e);var r=function(){function t(e){var i=e.element,n=e.width,r=e.height;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=i,this.canvas=document.createElement("canvas"),this.canvas.width=n,this.canvas.height=r,this.element.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.canvas.style.cssText="border: 1px solid #f2f2f2"}var e,i,r;return e=t,(i=[{key:"rect",value:function(t,e,i,n,r){this.ctx.fillStyle=r,this.ctx.fillRect(t,e,i,n)}},{key:"circle",value:function(t,e,i,n){this.ctx.beginPath(),this.ctx.fillStyle=n,this.ctx.arc(t,e,i,0,2*Math.PI,!1),this.ctx.fill()}},{key:"text",value:function(t,e,i,n,r){this.ctx.fillStyle=n,this.ctx.font="Bold ".concat(r,"px Arial"),this.ctx.textBaseline="top",this.ctx.textAlign="center",this.ctx.fillText(t,e,i)}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}}])&&n(e.prototype,i),r&&n(e,r),t}();function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(e){var i=e.element,n=e.width,r=e.height;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=i,this.renderElem=document.createElement("div"),this.renderElem.style.cssText="\n      width: ".concat(n,"px;\n      height: ").concat(r,"px;\n      overflow: hidden;\n      border: 1px solid #f2f2f2;\n    "),this.element.appendChild(this.renderElem)}var e,i,n;return e=t,(i=[{key:"rect",value:function(t,e,i,n,r){var s=document.createElement("div");s.style.cssText="\n      position:absolute;\n      top: ".concat(e,"px;\n      left: ").concat(t,"px;\n      width: ").concat(i,"px;\n      height: ").concat(n,"px;\n      background: ").concat(r,";\n    "),this.renderElem.appendChild(s)}},{key:"circle",value:function(t,e,i,n){var r=document.createElement("div");r.style.cssText="\n      position:relative;\n      top: ".concat(e,"px;\n      left: ").concat(t,"px;\n      width:").concat(2*i,"px;\n      height:").concat(2*i,"px;\n      background: ").concat(n,";\n      border-radius:").concat(i,"px;\n      "),this.renderElem.appendChild(r)}},{key:"text",value:function(t,e,i,n,r){var s=document.createElement("div");s.style.cssText="\n      position: absolute;\n      top: ".concat(i,"px;\n      left: ").concat(e,"px;\n      color: ").concat(n,";\n      font: Bold ").concat(r,"px Arial;\n      text-align: center;\n    "),s.textContent=t,this.renderElem.appendChild(s)}},{key:"clear",value:function(){this.renderElem.firstElementChild&&(this.renderElem.innerHTML="")}}])&&s(e.prototype,i),n&&s(e,n),t}();function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e){var i=e.element,n=e.width,s=e.height,l=e.render;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var h={element:i,width:n,height:s};this.width=n,this.height=s,this.renderMethod="canvas"===l?new r(h):new a(h),this.inputMap=[],this.ball={x:0,y:0,r:5,color:"white",vx:3,vy:0,maxV:3},this.players={0:{x:0,y:150,color:"white",score:0,direction:"none"},1:{x:0,y:150,color:"white",score:0,direction:"none"},speed:10,height:100,width:10}}var e,i,n;return e=t,(i=[{key:"input",value:function(){var t=this,e=function(e){t.inputMap[e.keyCode]="keydown"===e.type};document.addEventListener("keydown",e),document.addEventListener("keyup",e)}},{key:"init",value:function(){this.input(),this.startGame(),this.frame()}},{key:"frame",value:function(){var t=this;this.renderMethod.clear(),this.update(),this.render(),window.requestAnimationFrame((function(){return t.frame()}))}},{key:"render",value:function(){this.renderMethod.circle(this.ball.x,this.ball.y,this.ball.r,this.ball.color),this.renderMethod.rect(this.players[0].x,this.players[0].y,this.players.width,this.players.height,this.players[0].color),this.renderMethod.rect(this.players[1].x,this.players[1].y,this.players.width,this.players.height,this.players[1].color),this.renderMethod.text("".concat(this.players[0].score," : ").concat(this.players[1].score),this.width/2,10,"white",28)}},{key:"update",value:function(){if(this.inputMap[87]?(this.players[0].y=Math.max(this.players[0].y-this.players.speed,0),this.players[0].direction="up"):this.inputMap[83]?(this.players[0].y=Math.min(this.players[0].y+this.players.speed,this.height-this.players.height),this.players[0].direction="down"):this.players[0].direction="none",this.inputMap[38]?(this.players[1].y=Math.max(this.players[1].y-this.players.speed,0),this.players[1].direction="up"):this.inputMap[40]?(this.players[1].y=Math.min(this.players[1].y+this.players.speed,this.height-this.players.height),this.players[1].direction="down"):this.players[1].direction="none",this.collision(this.ball,this.players[1])||this.collision(this.ball,this.players[0])){var t=this.ball.vx>0?this.players[1]:this.players[0];"up"==t.direction?this.ball.vy=-5:"down"==t.direction?this.ball.vy=5:this.ball.vy=0,this.ball.vx*=-1}this.ball.x>=this.width?(this.players[0].score++,this.startGame()):this.ball.x<0&&(this.players[1].score++,this.startGame()),(this.ball.y>=this.height||this.ball.y<=0)&&(this.ball.vy*=-1),this.ball.x+=this.ball.vx,this.ball.y+=this.ball.vy}},{key:"collision",value:function(t,e){var i=this.players.height;return t.x==e.x&&t.y>=e.y&&t.y<=e.y+i}},{key:"startGame",value:function(){this.ball.y=this.height/2,this.ball.x=Math.floor(this.width/2),this.ball.vy=0,this.ball.vx=[-5,5][Math.floor(2*Math.random())],this.players[0].x=0,this.players[0].y=this.width/2-this.players.height,this.players[1].x=this.width-10,this.players[1].y=this.width/2-this.players.height}}])&&l(e.prototype,i),n&&l(e,n),t}();window.Game=h}]);